<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intl-tel-input@25.3.0/build/css/intlTelInput.css">
    <script src="https://cdn.jsdelivr.net/npm/intl-tel-input@25.3.0/build/js/intlTelInput.min.js"></script>


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <title>Text to Voice Generator</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="../typo.css">
</head>

<body>
    <div class="container-fluid free_tools-section p-0">
        <div class="container">

            <!-- Tool Badge -->
            <div class="d-flex justify-content-between tool_badge-container">
                <!-- Tool icon and name -->
                <div class="d-inline-flex flex-column align-items-end tool-badge">
                    <div class="d-inline-flex align-items-center tool_name-icon">
                        <div class="d-inline-flex tool-icon align-items-center justify-content-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="38" height="27" viewBox="0 0 38 27"
                                fill="none">
                                <path
                                    d="M19.2402 9.18115C18.7458 7.96371 18.0112 6.85838 17.0802 5.93115C16.1471 5.00472 15.0435 4.26783 13.8302 3.76116C12.0024 3.00412 9.99116 2.8062 8.05086 3.19247C6.11064 3.57874 4.32858 4.53182 2.93013 5.93115C1.9951 6.85711 1.25696 7.9626 0.760118 9.18115C0.258858 10.3924 0.000617626 11.6903 0.000107626 13.0011C-0.00597237 14.2945 0.245608 15.5761 0.740128 16.7711L0.240128 20.4212C0.173158 20.733 0.183718 21.0566 0.270888 21.3634C0.358068 21.6703 0.519188 21.951 0.740128 22.1811C0.960258 22.4079 1.23097 22.5792 1.53011 22.6811C1.82661 22.7785 2.14231 22.8025 2.45012 22.7511L6.10012 22.2111C7.32589 22.7368 8.64636 23.0057 9.98016 23.0011C11.6239 23.0009 13.2422 22.5954 14.692 21.8207C16.1417 21.0459 17.378 19.9257 18.2916 18.5593C19.2052 17.1928 19.7679 15.6222 19.9299 13.9864C20.0918 12.3507 19.8481 10.7002 19.2202 9.18115H19.2402ZM5.72011 14.6112C5.40168 14.6112 5.0904 14.5167 4.82564 14.3398C4.56088 14.1629 4.35454 13.9115 4.23268 13.6173C4.11083 13.3231 4.07895 12.9994 4.14107 12.6871C4.20319 12.3747 4.35652 12.0879 4.58168 11.8627C4.80685 11.6376 5.09371 11.4842 5.40602 11.4221C5.71833 11.36 6.04204 11.3918 6.33623 11.5137C6.63042 11.6355 6.88189 11.8419 7.0588 12.1067C7.2357 12.3714 7.33013 12.6827 7.33013 13.0011C7.33013 13.2126 7.28848 13.4219 7.20757 13.6173C7.12666 13.8126 7.00807 13.9901 6.85857 14.1396C6.70907 14.2891 6.53156 14.4077 6.33623 14.4886C6.1409 14.5695 5.93154 14.6112 5.72011 14.6112ZM10.0001 14.6112C9.68166 14.6112 9.37036 14.5167 9.10566 14.3398C8.84086 14.1629 8.63456 13.9115 8.51266 13.6173C8.39086 13.3231 8.35896 12.9994 8.42106 12.6871C8.48316 12.3747 8.63656 12.0879 8.86166 11.8627C9.08686 11.6376 9.37376 11.4842 9.68606 11.4221C9.99836 11.36 10.3221 11.3918 10.6163 11.5137C10.9105 11.6355 11.1619 11.8419 11.3388 12.1067C11.5157 12.3714 11.6102 12.6827 11.6102 13.0011C11.6102 13.4281 11.4405 13.8377 11.1386 14.1396C10.8367 14.4415 10.4271 14.6112 10.0001 14.6112ZM14.2801 14.6112C13.9617 14.6112 13.6505 14.5167 13.3857 14.3398C13.1209 14.1629 12.9146 13.9115 12.7927 13.6173C12.6709 13.3231 12.639 12.9994 12.7011 12.6871C12.7632 12.3747 12.9166 12.0879 13.1417 11.8627C13.3669 11.6376 13.6538 11.4842 13.9661 11.4221C14.2784 11.36 14.6021 11.3918 14.8963 11.5137C15.1905 11.6355 15.4419 11.8419 15.6188 12.1067C15.7957 12.3714 15.8902 12.6827 15.8902 13.0011C15.8902 13.4281 15.7205 13.8377 15.4186 14.1396C15.1167 14.4415 14.7071 14.6112 14.2801 14.6112Z"
                                    fill="#FF3EAB" />
                                <g style="mix-blend-mode:multiply">
                                    <circle cx="24.5" cy="13.5" r="13.5" fill="url(#paint0_linear_1803_61510)" />
                                </g>
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M28.2637 13.3249V9.27126C28.1591 8.49813 27.7777 7.78916 27.1902 7.27581C26.6027 6.76246 25.8489 6.47955 25.0688 6.47955C24.2886 6.47955 23.5349 6.76246 22.9474 7.27581C22.36 7.78916 21.9786 8.49813 21.874 9.27126V13.3249C21.9786 14.098 22.36 14.807 22.9474 15.3203C23.5349 15.8337 24.2886 16.1166 25.0688 16.1166C25.8489 16.1166 26.6027 15.8337 27.1902 15.3203C27.7777 14.807 28.1591 14.098 28.2637 13.3249ZM25.6151 19.9404V18.1211H25.5859C26.9177 17.989 28.1527 17.3659 29.0501 16.373C29.9475 15.38 30.443 14.0885 30.4401 12.7502C30.4401 12.6054 30.3826 12.4667 30.2802 12.3643C30.1779 12.2619 30.039 12.2044 29.8943 12.2044C29.7495 12.2044 29.6107 12.2619 29.5083 12.3643C29.406 12.4667 29.3485 12.6054 29.3485 12.7502C29.3485 13.8928 28.8946 14.9887 28.0866 15.7967C27.2786 16.6046 26.1828 17.0586 25.0401 17.0586C23.8975 17.0586 22.8016 16.6046 21.9936 15.7967C21.1857 14.9887 20.7318 13.8928 20.7318 12.7502C20.7318 12.6054 20.6743 12.4667 20.5719 12.3643C20.4696 12.2619 20.3307 12.2044 20.186 12.2044C20.0412 12.2044 19.9024 12.2619 19.8 12.3643C19.6977 12.4667 19.6401 12.6054 19.6401 12.7502C19.6372 14.0885 20.1328 15.38 21.0302 16.373C21.9275 17.3659 23.1625 17.989 24.4943 18.1211V19.9404H22.4202C22.2754 19.9404 22.1366 19.998 22.0342 20.1003C21.9319 20.2027 21.8744 20.3415 21.8744 20.4863C21.8744 20.6311 21.9319 20.7699 22.0342 20.8723C22.1366 20.9746 22.2754 21.0321 22.4202 21.0321H27.7183C27.863 21.0321 28.0019 20.9746 28.1042 20.8723C28.2066 20.7699 28.2641 20.6311 28.2641 20.4863C28.2641 20.3415 28.2066 20.2027 28.1042 20.1003C28.0019 19.998 27.863 19.9404 27.7183 19.9404H25.6151Z"
                                    fill="white" />
                                <defs>
                                    <linearGradient id="paint0_linear_1803_61510" x1="24.5152" y1="-4.75" x2="24.5152"
                                        y2="31.75" gradientUnits="userSpaceOnUse">
                                        <stop stop-color="#B68AF4" />
                                        <stop offset="1" stop-color="#8733FF" />
                                    </linearGradient>
                                </defs>
                            </svg>
                        </div>
                        <span class="tool-name">Text to Voice</span>
                    </div>
                    <span class="tool-powerBy">By KrispCall</span>
                </div>

                <!-- close button -->
                <div class="close_tool ">
                    <a class="d-inline-flex align-items-center" href="/">
                        <span class="close-icon d-inline-flex">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none">
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M11.947 2H12.053C14.2009 2 15.8837 2 17.1963 2.17674C18.5405 2.35721 19.6009 2.73395 20.4335 3.56651C21.2651 4.39907 21.6428 5.45954 21.8233 6.80279C22 8.11628 22 9.79907 22 11.947V12.053C22 14.2009 22 15.8837 21.8233 17.1963C21.6428 18.5405 21.266 19.6009 20.4335 20.4335C19.6009 21.2651 18.5405 21.6428 17.1972 21.8233C15.8837 22 14.2009 22 12.053 22H11.947C9.79907 22 8.11628 22 6.80372 21.8233C5.45953 21.6428 4.39907 21.266 3.56651 20.4335C2.73488 19.6009 2.35721 18.5405 2.17674 17.1972C2 15.8837 2 14.2009 2 12.053V11.947C2 9.79907 2 8.11628 2.17674 6.80372C2.35721 5.45953 2.73395 4.39907 3.56651 3.56651C4.39907 2.73488 5.45954 2.35721 6.80279 2.17674C8.11628 2 9.79907 2 11.947 2ZM6.98977 3.55907C5.8 3.71907 5.08372 4.02326 4.55349 4.55349C4.02419 5.08372 3.71907 5.8 3.55907 6.98977C3.39721 8.19907 3.39535 9.78791 3.39535 12C3.39535 14.2121 3.39721 15.8009 3.55907 17.0102C3.71907 18.2 4.02326 18.9163 4.55256 19.4465C5.08279 19.9758 5.8 20.2809 6.98977 20.4409C8.19907 20.6028 9.78791 20.6047 12 20.6047C14.2121 20.6047 15.8009 20.6028 17.0102 20.4409C18.2 20.2809 18.9163 19.9767 19.4465 19.4474C19.9758 18.9172 20.2809 18.2 20.4409 17.0102C20.6028 15.8009 20.6047 14.2121 20.6047 12C20.6047 9.78791 20.6028 8.19907 20.4409 6.98977C20.2809 5.8 19.9767 5.08372 19.4474 4.55349C18.9172 4.02419 18.2 3.71907 17.0102 3.55907C15.8009 3.39721 14.2121 3.39535 12 3.39535C9.78791 3.39535 8.19907 3.39721 6.98977 3.55907ZM9.67943 8.99349C9.86018 8.9903 10.0351 9.05739 10.1674 9.18063L11.9999 11.0132L13.8325 9.18063C13.8963 9.11208 13.9734 9.05711 14.059 9.01897C14.1445 8.98084 14.2369 8.96034 14.3306 8.95868C14.4243 8.95703 14.5173 8.97426 14.6042 9.00935C14.6911 9.04444 14.77 9.09667 14.8362 9.16292C14.9025 9.22917 14.9547 9.30809 14.9898 9.39496C15.0249 9.48183 15.0421 9.57488 15.0405 9.66856C15.0388 9.76224 15.0183 9.85462 14.9802 9.9402C14.942 10.0258 14.8871 10.1028 14.8185 10.1667L12.986 11.9992L14.8185 13.8318C14.9418 13.964 15.0089 14.139 15.0057 14.3197C15.0025 14.5005 14.9293 14.6729 14.8014 14.8007C14.6736 14.9286 14.5011 15.0018 14.3204 15.005C14.1397 15.0082 13.9647 14.9411 13.8325 14.8178L11.9999 12.9853L10.1674 14.8178C10.1035 14.8864 10.0265 14.9414 9.94088 14.9795C9.8553 15.0176 9.76292 15.0381 9.66924 15.0398C9.57556 15.0414 9.48251 15.0242 9.39564 14.9891C9.30877 14.954 9.22985 14.9018 9.1636 14.8355C9.09735 14.7693 9.04513 14.6904 9.01004 14.6035C8.97495 14.5166 8.95771 14.4236 8.95937 14.3299C8.96102 14.2362 8.98152 14.1439 9.01966 14.0583C9.05779 13.9727 9.11277 13.8957 9.18131 13.8318L11.0139 11.9992L9.18131 10.1667C9.05808 10.0344 8.99098 9.85949 8.99417 9.67875C8.99736 9.498 9.07058 9.32555 9.19841 9.19773C9.32623 9.0699 9.49869 8.99668 9.67943 8.99349Z"
                                    fill="#242424" />
                            </svg>
                        </span>
                        <span class="d-none d-md-block">Close</span>
                    </a>
                </div>
            </div>

            <!-- Tool Heading -->
            <div class="text-center tool_heading-container">
                <div class="customtypo-heading">
                    <h1>Voicemail Greeting Generator</h1>
                </div>
                <div class="customtext-l">
                    <p>Create professional voicemail greetings in seconds for absolutely free. Customize and generate
                        as many voicemails as you need at your convenience.</p>
                </div>
            </div>

            <!-- Tool functions -->
            <div class="v1_1-free_tools d-flex flex-column">
                <div class="tool-container">
                    <!-- No. of attempts remain -->
                    <div class="customtext-s d-flex justify-content-end">
                        <p id="countDisplay">3 <span>free attempts</span> remaining.</p>
                    </div>

                    <div class="position-relative">
                        <!-- Text to Voice  -->
                        <div class="text_to_voice">
                            <!-- Text area -->
                            <div class="textarea_div d-flex flex-column">
                                <textarea id="text" oninput="updateCharacterCount()"
                                    placeholder="Type or paste something and instantly convert into speech..."></textarea>
                                <div class="customtext-s custom-regular d-flex justify-content-end">
                                    <p id="charCount">0/300</p>
                                </div>
                            </div>

                            <!-- Voice menus -->
                            <div class="voice_menu d-flex align-items-center">

                                <!-- Voice selector -->
                                <div class="voiceType d-inline-flex align-items-center">
                                    <!-- Selected Voice -->
                                    <div class="voice-toggle d-inline-flex align-items-center" id="c-dropdownButton"
                                        onclick="ctoggleDropdown()">
                                        <img src="https://krispcall.com/wp-content/uploads/2024/11/text-to-speech-voive-female-sophia-img.png"
                                            alt="" />
                                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14"
                                            viewBox="0 0 14 14" fill="none">
                                            <path
                                                d="M2.8173 4.57566C2.75634 4.63918 2.70798 4.71462 2.67498 4.79766C2.64198 4.8807 2.625 4.96972 2.625 5.05962C2.625 5.14951 2.64198 5.23853 2.67498 5.32157C2.70798 5.40461 2.75634 5.48005 2.8173 5.54357L6.53631 9.42434C6.59719 9.48795 6.66948 9.53841 6.74906 9.57285C6.82864 9.60728 6.91395 9.625 7.0001 9.625C7.08625 9.625 7.17155 9.60728 7.25113 9.57285C7.33071 9.53841 7.40301 9.48795 7.46388 9.42434L11.1829 5.54357C11.2438 5.48002 11.2921 5.40457 11.3251 5.32153C11.358 5.23849 11.375 5.1495 11.375 5.05962C11.375 4.96974 11.358 4.88074 11.3251 4.7977C11.2921 4.71467 11.2438 4.63922 11.1829 4.57566C11.122 4.51211 11.0497 4.4617 10.9701 4.4273C10.8905 4.3929 10.8052 4.3752 10.7191 4.3752C10.633 4.3752 10.5477 4.3929 10.4681 4.4273C10.3885 4.4617 10.3162 4.51211 10.2553 4.57566L7.0001 7.97156L3.74486 4.57566C3.68399 4.51205 3.6117 4.46159 3.53212 4.42715C3.45254 4.39272 3.36723 4.375 3.28108 4.375C3.19493 4.375 3.10963 4.39272 3.03005 4.42715C2.95047 4.46159 2.87817 4.51205 2.8173 4.57566Z"
                                                fill="#333333" fill-opacity="0.5" />
                                        </svg>
                                    </div>

                                    <!-- Voice Options -->
                                    <ul class="voice-options" id="voice-options">
                                        <!-- Voice Joanna -->
                                        <li class="optionsItems" data-value="Joanna">
                                            <span class="voiceAvatar">
                                                <img src="https://krispcall.com/wp-content/uploads/2024/11/text-to-speech-voive-female-sophia-img.png"
                                                    alt="" width="40" height="40">
                                            </span>
                                            <div>
                                                <div class="voiceName customtext-m custom-medium">
                                                    <p style="color: #242424;">Sophia</p>
                                                </div>
                                                <div class="voiceGender customtext-s custom-regular">
                                                    <p style="color: #4D4950;">Female</p>
                                                </div>
                                            </div>
                                        </li>
                                        <!-- Voice Matthew -->
                                        <li class="optionsItems" data-value="Matthew">
                                            <span class="voiceAvatar">
                                                <img src="https://krispcall.com/wp-content/uploads/2024/11/text-to-speech-voive-male-david-img.png"
                                                    alt="" width="40" height="40">
                                            </span>
                                            <div>
                                                <div class="voiceName customtext-m custom-medium">
                                                    <p style="color: #242424;">David</p>
                                                </div>
                                                <div class="voiceGender customtext-s custom-regular">
                                                    <p style="color: #4D4950;">Male</p>
                                                </div>
                                            </div>
                                        </li>
                                        <!-- Voice Amy -->
                                        <li class="optionsItems" data-value="Amy">
                                            <span class="voiceAvatar">
                                                <img src="https://krispcall.com/wp-content/uploads/2024/11/text-to-speech-voive-female-Grace-img.png"
                                                    alt="" width="40" height="40">
                                            </span>
                                            <div>
                                                <div class="voiceName customtext-m custom-medium">
                                                    <p style="color: #242424;">Grace</p>
                                                </div>
                                                <div class="voiceGender customtext-s custom-regular">
                                                    <p style="color: #4D4950;">Female</p>
                                                </div>
                                            </div>
                                        </li>
                                        <!-- Voice Brian -->
                                        <li class="optionsItems" data-value="Brian">
                                            <span class="voiceAvatar">
                                                <img src="https://krispcall.com/wp-content/uploads/2024/11/text-to-speech-voive-male-peter-img.png"
                                                    alt="" width="40" height="40">
                                            </span>
                                            <div>
                                                <div class="voiceName customtext-m custom-medium">
                                                    <p style="color: #242424;">Peter</p>
                                                </div>
                                                <div class="voiceGender customtext-s custom-regular">
                                                    <p style="color: #4D4950;">Male</p>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>

                                <!-- play / wave  -->
                                <div class="d-inline-flex align-items-center flex-grow-1 voiceControl">
                                    <!-- Voice play/pause -->
                                    <div id="playpause_btn" class="d-inline-flex align-items-center">
                                        <!-- Play icon -->
                                        <span class="play" onclick="playAudio()">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"
                                                viewBox="0 0 32 32" fill="none">
                                                <path
                                                    d="M16.0002 2.33337C13.2971 2.33337 10.6549 3.13488 8.40739 4.6366C6.15991 6.13831 4.40821 8.27276 3.37381 10.77C2.33941 13.2673 2.06877 16.0152 2.59611 18.6663C3.12343 21.3174 4.42505 23.7524 6.33637 25.6638C8.24769 27.5751 10.6829 28.8767 13.3339 29.404C15.985 29.9314 18.733 29.6608 21.2302 28.6264C23.7275 27.592 25.8619 25.8403 27.3635 23.5928C28.8652 21.3454 29.6668 18.7031 29.6668 16C29.6632 12.3765 28.2223 8.90236 25.66 6.34013C23.0979 3.77789 19.6238 2.33691 16.0002 2.33337ZM21.7335 16.4267C21.61 16.6874 21.4274 16.9156 21.2002 17.0934L14.8535 22.0267C14.5862 22.2406 14.2614 22.3704 13.9202 22.4H13.7335C13.4563 22.3971 13.1833 22.3334 12.9335 22.2134C12.6246 22.0578 12.3624 21.8231 12.1735 21.5334C11.9988 21.2387 11.9067 20.9026 11.9068 20.56V11.4C11.9039 11.0715 11.9915 10.7486 12.1601 10.4667C12.3309 10.1798 12.581 9.94828 12.8802 9.80005C13.1637 9.63919 13.4882 9.56501 13.8135 9.58671C14.1458 9.59575 14.4691 9.69733 14.7468 9.88004L21.0935 14.12C21.3374 14.2778 21.5388 14.493 21.6802 14.7467C21.8232 14.9991 21.9011 15.2832 21.9068 15.5734C21.9166 15.8675 21.8572 16.1598 21.7335 16.4267Z"
                                                    fill="#8733FF" />
                                            </svg>
                                        </span>
                                        <!-- pause Icon -->
                                        <span class="pause" onclick="playPause()">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"
                                                viewBox="0 0 32 32" fill="none">
                                                <path
                                                    d="M6.17182 25.4941C4.86668 24.2335 3.82565 22.7257 3.10948 21.0585C2.39331 19.3913 2.01634 17.5982 2.00058 15.7837C1.98481 13.9693 2.33056 12.1699 3.01765 10.4905C3.70473 8.81115 4.7194 7.28543 6.00245 6.00239C7.28549 4.71934 8.81121 3.70467 10.4906 3.01759C12.17 2.3305 13.9694 1.98475 15.7838 2.00052C17.5982 2.01628 19.3914 2.39325 21.0585 3.10942C22.7257 3.82559 24.2336 4.86662 25.4941 6.17176C27.9833 8.74901 29.3607 12.2008 29.3295 15.7837C29.2984 19.3667 27.8613 22.794 25.3277 25.3276C22.7941 27.8612 19.3667 29.2983 15.7838 29.3295C12.2009 29.3606 8.74907 27.9833 6.17182 25.4941ZM12.4167 10.3669C12.0394 10.3669 11.7335 10.6728 11.7335 11.0502V20.6157C11.7335 20.993 12.0394 21.2989 12.4167 21.2989H13.7832C14.1606 21.2989 14.4665 20.993 14.4665 20.6157V11.0502C14.4665 10.6728 14.1606 10.3669 13.7832 10.3669H12.4167ZM17.8827 10.3669C17.5054 10.3669 17.1995 10.6728 17.1995 11.0502V20.6157C17.1995 20.993 17.5054 21.2989 17.8827 21.2989H19.2492C19.6266 21.2989 19.9325 20.993 19.9325 20.6157V11.0502C19.9325 10.6728 19.6266 10.3669 19.2492 10.3669H17.8827Z"
                                                    fill="#8733FF" />
                                            </svg>
                                        </span>
                                        <!-- loading spiner -->
                                        <!-- display:flex for this  -->
                                        <span class="loaderDiv align-items-center justify-content-center">
                                            <span
                                                class="loadingDiv d-inline-flex align-items-center justify-content-center"></span>
                                        </span>
                                    </div>

                                    <div id="waveform"></div>
                                    <!-- Wave Icon -->
                                    <div id="audio-progress-container">
                                        <div id="audio-progress-bar"></div>
                                    </div>
                                </div>

                                <!-- Download Button -->
                                <!-- Toggle disabled attribute in button for two state (i.e active / disabled) -->
                                <div class="downloadBtn-div d-inline-flex">
                                    <button id="downloadButton" onclick="downloadAudio()"
                                        class="d-inline-flex align-items-center justify-content-center" disabled>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                            viewBox="0 0 20 20" fill="none">
                                            <path d="M10 12.6981V2.67725" stroke="#A8A8A8" stroke-width="1.5"
                                                stroke-miterlimit="10" stroke-linecap="round" />
                                            <path
                                                d="M6.14453 9.16162L9.44945 12.4665C9.59561 12.6113 9.79303 12.6925 9.9987 12.6925C10.2044 12.6925 10.4018 12.6113 10.5479 12.4665L13.8529 9.16162"
                                                stroke="#A8A8A8" stroke-width="1.5" stroke-linecap="round"
                                                stroke-linejoin="round" />
                                            <path
                                                d="M2.29297 11.5415V15.3957C2.29297 15.9068 2.496 16.3969 2.8574 16.7583C3.21879 17.1197 3.70896 17.3228 4.22005 17.3228H15.7825C16.2936 17.3228 16.7838 17.1197 17.1452 16.7583C17.5066 16.3969 17.7096 15.9068 17.7096 15.3957V11.5415"
                                                stroke="#A8A8A8" stroke-width="1.5" stroke-linecap="round"
                                                stroke-linejoin="round" />
                                        </svg>
                                        Download
                                    </button>
                                </div>
                            </div>
                        </div>
                        <!-- Limit Reached  -->
                        <div class="max_limit" style="display: none;">
                            <div class="text-center">
                                <div class="customtext-m custom-medium">
                                    <p style="color: #242424;">Maximum Limit Reached</p>
                                </div>
                                <div class="customtext-s custom-regular">
                                    <p style="color: #4d4950;">You have reached the maximum limit for free text to voice
                                        generator.</p>
                                </div>
                                <div class="d-flex justify-content-center">
                                    <a href="https://form.typeform.com/to/PEOkOl9Z" target="_blank" rel="nofollow"
                                        class="limit_request-btn">Request Access</a>
                                </div>
                            </div>
                        </div>
                    </div>



                </div>

                <!-- Request Access -->
                <div class="request-bulk-free_tool d-flex">
                    <div class="customtext-m flex-grow-1 d-flex flex-column">
                        <div class="title">Need Bulk Text To Voice Generator?</div>
                        <p>We offer bulk APIs for Text-to-Voice generators. Get in touch with us.</p>
                    </div>
                    <a href="https://form.typeform.com/to/PEOkOl9Z" target="_blank" rel="nofollow"
                        class="bulk-requestAccess d-inline-flex align-items-center flex-shrink-0 justify-content-center">
                        Request Access
                    </a>
                </div>
            </div>
        </div>
    </div>


    <script>

        let audioUrl = "";
      
        const textArea = document.getElementById("text");
        const charCount = document.getElementById("charCount");
        let previousText = ""; // Stores last valid text
        document.addEventListener("DOMContentLoaded", function () {
          let pauseButton = document.querySelector(".pause");
          pauseButton.style.display = "none";
          let loadingDiv = document.querySelector(".loaderDiv");
          loadingDiv.style.display = "none";
          let attempts = getCookie("checkAttempts")
            ? parseInt(getCookie("checkAttempts"))
            : 0;
          document.getElementById("countDisplay").innerHTML = `${3 - attempts
            } <span class="highlights">free attempts</span> remaining`;
        });
        textArea.addEventListener("input", () => {
          if (textArea.value.length > 300) {
            textArea.value = previousText; // Prevent overflow
          } else {
            previousText = textArea.value;
            charCount.innerText = `${textArea.value.length}/300`;
          }
        });
      
        // Voice Menu
        const voiceDropdown = document.getElementById("c-dropdownButton");
        const voiceOptions = document.getElementById("voice-options");
        const selectedVoice = voiceDropdown.querySelector("img");
        const dropdownSVG = voiceDropdown.querySelector("svg");
      
        // Store the voice value once selected
        let voiceValue;
      
        // Toggle Dropdown
        voiceDropdown.addEventListener("click", (event) => {
          event.stopPropagation(); // Prevent immediate closing
          voiceOptions.classList.toggle("show");
          dropdownSVG.classList.toggle("rotated");
        });
      
        // Handle Selection using Event Delegation
        voiceOptions.addEventListener("click", (event) => {
          const item = event.target.closest(".optionsItems");
          if (item) {
            selectedVoice.src = item.querySelector(".voiceAvatar img").src;
            voiceValue = item.getAttribute("data-value");
            console.log(voiceValue);
      
            voiceOptions.classList.remove("show");
            dropdownSVG.classList.remove("rotated");
          }
        });
      
        // Close when clicking outside
        document.addEventListener("click", ({ target }) => {
          if (!voiceDropdown.contains(target)) {
            voiceOptions.classList.remove("show");
            dropdownSVG.classList.remove("rotated");
          }
        });
      
        function setCookie(name, value, minutes, path = getBasePath()) {
      
          let date = new Date();
          date.setTime(date.getTime() + minutes * 60 * 1000);
          document.cookie = `${name}=${value}; expires=${date.toUTCString()}; path=${path}`;
        }
        function getCookie(name) {
      
          let cookies = document.cookie.split("; ");
          for (let cookie of cookies) {
            let [key, value] = cookie.split("=");
            if (key === name) return value;
          }
          return null;
        }
        function getBasePath() {
          const pathname = window.location.pathname;
          return pathname.substring(0, pathname.lastIndexOf("/") + 1) || "/";
        }
        function checkAttempts() {
          let attempts = getCookie("checkAttempts");
          let lastAttemptTime = getCookie("lastAttemptTime");
      
          if (!attempts) {
            setCookie("checkAttempts", 0, 10, getBasePath()); // Initialize if not present
            attempts = 0;
          } else {
            attempts = parseInt(attempts);
          }
      
          let max_limit = document.querySelector(".max_limit");
          if (attempts >= 4) {
      
            max_limit.style.display = "block";
            let remainingTime = Math.max(
              600 - Math.floor((Date.now() - lastAttemptTime) / 1000),
              0
            );
      
            setTimeout(() => {
              setCookie("checkAttempts", 0, 10, getBasePath());
      
              location.reload();
            }, remainingTime * 1000);
          }
        }
        // Initialize WaveSurfer globally
        const wavesurfer = WaveSurfer.create({
          container: "#waveform",
        });
      
        async function playAudio() {
          let max_limit = document.querySelector(".max_limit");
          const textBox = document.querySelector(".text_to_voice");
      
          let attempts = getCookie("checkAttempts")
            ? parseInt(getCookie("checkAttempts"))
            : 0;
      
          if (attempts >= 3) {
            textBox.style.filter = "blur(2px)"
            document.getElementById("countDisplay").innerHTML =
              '0 <span style="color:red;">free attempts</span> remaining';
            max_limit.style.display = "block";
            return;
          }
      
          setCookie("checkAttempts", attempts + 1, 10, getBasePath());
          setCookie("lastAttemptTime", Date.now(), 10, getBasePath());
      
          checkAttempts(); // Check if attempts exceed the limit
          document.getElementById("countDisplay").innerHTML = `${3 - (attempts + 1)
            } <span class="highlights">free attempts</span> remaining`;
      
          const text = document.getElementById("text").value;
      
      
          const voice_selected = voiceValue ? voiceValue : "Joanna";
      
      
          const downloadButton = document.getElementById("downloadButton");
          let playButton = document.querySelector(".play");
          let pauseButton = document.querySelector(".pause");
          let loading = document.querySelector(".loaderDiv");
      
          // If no text is entered
          if (text.length === 0) {
            alert("Please enter some text.");
            return;
          }
      
          // 🛑 **Reset `audioUrl` if the text is changed** 🛑
          if (audioUrl) {
            audioUrl = null; // Ensure new request is made
          }
      
          // Show loader, hide play/pause buttons
          loading.style.display = "block";
          playButton.style.display = "none";
          pauseButton.style.display = "none";
          downloadButton.disabled = true;
      
          try {
            const response = await fetch(
              `https://freetoolsv2.marktivities.guru/api/textTools/text-to-speech/?sentence=${encodeURIComponent(
                text
              )}&voice=${voice_selected}`
            );
      
            if (response.ok) {
              const audioBlob = await response.blob();
              audioUrl = URL.createObjectURL(audioBlob);
      
      
              // Load and play new audio
              wavesurfer.load(audioUrl);
              wavesurfer.on("ready", function () {
                wavesurfer.play();
                playButton.style.display = "none";
                pauseButton.style.display = "block";
                loading.style.display = "none"; // Hide loader when ready
              });
      
              // When audio finishes playing
              wavesurfer.on("finish", function () {
                playButton.style.display = "block";
                pauseButton.style.display = "none";
              });
              wavesurfer.on("audioprocess", function () {
                let currentTime = wavesurfer.getCurrentTime();
                let duration = wavesurfer.getDuration();
                let progress = (currentTime / duration) * 100;
                document.getElementById("audio-progress-bar").style.width =
                  progress + "%";
              });
              downloadButton.disabled = false;
            } else {
              throw new Error("Audio generation failed");
            }
          } catch (error) {
      
            alert("Error: Unable to generate audio.");
            loading.style.display = "none";
            playButton.style.display = "block";
            pauseButton.style.display = "none";
          }
        }
      
        function downloadAudio() {
          if (!audioUrl) {
            alert("No audio available to download.");
            return;
          }
          const downloadLink = document.createElement("a");
          downloadLink.href = audioUrl;
          downloadLink.download = "generated_audio_Krispcall.mp3";
          downloadLink.click();
        }
      
      </script>


</body>

</html>